<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >	
	
	<mapper namespace="funfun.repository.KB_RSReposi">
		<resultMap type="RewardStore" id="Storelist"/>
		
		<select id="slist" resultMap="Storelist" parameterType="RewardStore">
			SELECT a.sto_code, a.sto_title, a.sto_image, a.sto_price, b.CATE_TITLE FROM 
			store a, PROJECT b WHERE a.PRO_CODE  = b.PRO_CODE
			<if test="sto_title!=null and sto_title!=''">
				and sto_title like '%'||#{sto_title} || '%'
			</if>
			<if test="cate_title!=null and cate_title!= ''">
				and cate_title like '%' || #{cate_title} ||'%'
			</if>
		</select>
	</mapper>
	